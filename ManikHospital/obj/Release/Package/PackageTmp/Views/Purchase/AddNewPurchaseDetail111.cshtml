@model MedicalStore.Models.clsPurchaseDetail

@{
    ViewBag.Title = "Purchase Medicine Detail";
    Layout = "~/Views/_LayoutPage.cshtml";
}

<ol class="breadcrumb">
    <li style="font-weight: bold;">Purchase Medicine Detail</li>
    <li>@Html.ActionLink("List", "ViewProduct")</li>
    <li>@Html.Raw("Invoice Detail")</li>
</ol>


<section class="content">
    <div class="row">
        <div class="col-md-12">
            <div class="box">
                <div class="box-header with-border">
                    <h3 class="box-title">Add Purchase Medicine</h3>
                </div>
                <!-- /.box-header -->
                <div class="box-body">
                    @using (Html.BeginForm())
                    {
                        @Html.AntiForgeryToken()
                        <div class="box-body">
                            <div class="form-group">
                                 <label class="col-sm-4 control-label text-right">@Html.Label("Select Company") *</label>
                                <div class="col-sm-6">
                                    @Html.DropDownList("CompanyID", ViewBag.DdCompany as SelectList,"Select Company", new { onchange="this.form.submit();", @class = "form-control" })
                                </div>
                                <div class="col-sm-4">
                                    @Html.ValidationMessageFor(model => model.CompanyID, null, new { @class = "text-danger errorSize" })
                                    <span class="text-danger">@ViewBag.ErrorMessage</span>
                                </div>
                            </div>
                        </div><br />
                        
                        <div class="box-body text-left table-responsive no-padding">
                            @if(ViewBag.List !=null)
                            {
                            <table class="table-condensed table-bordered table-striped table-hover table-responsive" id="myList" style="width: 100%;">
                                <tr>
                                    @Html.HiddenFor(model => model.ProductID)
                                    <th class="center">Check</th>
                                    <th>
                                        @Html.DisplayName("Product Name")
                                    </th>
                                    <th>
                                        @Html.DisplayName("Unit Price")
                                    </th>
                                    <th>
                                        @Html.DisplayName("Quantity")
                                    </th>
                                    <th>
                                        @Html.DisplayName("Mfg Date")
                                    </th>
                                    <th>
                                        @Html.DisplayName("Expiry Date")
                                    </th>
                                    <th>
                                        @Html.DisplayName("Batch#")
                                    </th>
                                    <th>
                                        @Html.DisplayName("Discount")
                                    </th>
                                    <th>
                                        @Html.DisplayName("GST")
                                    </th>
                                    <th>
                                        @Html.DisplayName("Amount")
                                    </th>
                                </tr>

                                @foreach (var item in (IEnumerable<MedicalStore.Models.clsProduct>)ViewBag.List)
                                {
                                    <tr>
                                        <td class="text-center">
                                            <input name="CheckForAssign" type="checkbox" id="CheckForAssign" value="@item.ProductID"  />
                                        </td>
                                        @Html.HiddenFor(modelItem => item.ProductID)
                                        <td class="col-sm-2">
                                            @Html.DisplayFor(modelItem => item.ProductName)
                                        </td>
                                        <td class="col-sm-1">
                                            @Html.TextBoxFor(model => model.Price, new { @Value =@item.UnitPrice, type="number", @class="form-control"})
                                        </td>
                                        <td class="col-sm-1">
                                            @Html.TextBoxFor(model => model.Quantity, new { type="number", @class="form-control"})
                                        </td>
                                         <td class="col-sm-2">
                                            @Html.TextBoxFor(model => model.MfgDate, new { type="date", @class="form-control"})
                                        </td>
                                         <td class="col-sm-2">
                                            @Html.TextBoxFor(model => model.ExpiryDate, new { type="date", @class="form-control"})
                                        </td>
                                         <td class="col-sm-1">
                                            @Html.TextBoxFor(model => model.BatchNo, new { @class="form-control"})
                                        </td>
                                         <td class="col-sm-1">
                                            @Html.TextBoxFor(model => model.Discount, new { @Value="0.00", type="number", @class="form-control"})
                                        </td>
                                          <td class="col-sm-1">
                                            @Html.TextBoxFor(model => model.GST, new { @Value="0.00", type="number", @class="form-control"})
                                        </td>
                                        <td  class="col-sm-1">
                                            @Html.TextBoxFor(model => model.Total, new { @Value="0.00", type="number", @class="form-control"})
                                        </td>
                                    </tr>
                                }
                            </table>
                            }
                            else
                            {
                            }
                        </div>
                        
                         <div class="box-footer col-xs-12">
                            <div class="form-group">
                                <label class="col-sm-2 control-label"></label>
                                <div class="col-sm-10">
                                    <button type="submit" class="btn btn-primary" name="Calculate" value="@Html.ViewBag.Calculate">Calculate</button>
                                    <input type="submit" name="submit1" value="Add" class="btn btn-info" />                                   
                                    @Html.ActionLink("Cancel", "Index",null, new { @class="btn btn-default"})
                                </div>
                            </div>
                        </div>
                        
                    }
                    <div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

